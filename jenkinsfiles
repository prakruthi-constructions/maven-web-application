node{
    
def mavenhome = tool name: "maven3.8.5"
 
//checkout stage
stage('checkoutcode'){
git branch: 'development', credentialsId: '96943a21-6664-4665-8eee-cf92d041316c', url: 'https://github.com/prakruthi-constructions/maven-web-application.git'
}

//build stage
stage('build'){
sh "$mavenhome/bin/mvn clean package"
}

//generate sonarqube report
stage("sonarqube report"){
sh "$mavenhome/bin/mvn sonar:sonar"
}

//upload artifact into artifactory repo
stage ("uploadartifactintonexus"){
sh "$mavenhome/bin/mvn deploy"
}


}//node closing
